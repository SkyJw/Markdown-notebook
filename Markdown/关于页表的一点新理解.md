# 关于页表的一点新理解

## 关于多级页表

​	每个进程都可以访问虚拟的内存空间，以32位机器，4G内存举例，进程可以访问4G的虚拟空间，但是任意进程不可能拥有真正的4G物理内存，当进程访问某一虚拟地址时，先去查页表，判断查找到的页表项是否有对应的物理内存，即页框，有则访问物理内存，否则缺页中断，这种方式使得进程以很小的内存占用（页表4MB），让进程看起来拥有了4GB的内存空间。

​	上述的一级页表，每个进程都要有4MB的页表占用空间，多级页表其实就是利用了页表-内存的这种思想，实现一级页表-二级页表的映射，从而省了4MB的空间，只需要4KB的空间即可。也就是说多级页表，就是利用的页表到内存的这种映射思想，可以类比，一级页表就是页表，二级页表就是内存。多级页表使用这种方法，节省了本来需要存储页表的内存空间。

## 关于页表的内容

​	之前常说，页表的每一个页表项对应物理内存的一个页框。其实在进程中这是不对的。4MB的页表并非一一对应4GB的物理内存，如果是对应的，那一个进程不就把所有的内存占光了？页表中的每一项都有一个标志，表示该项是否在内存中，即是否缺页。页表项可能对应的物理页框为空。而且相邻的页表项对应的页框，在物理内存上并不一定是连续的。